<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üï∑Ô∏è Horror Tales Vault | By Vimal S</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Georgia', 'Times New Roman', serif;
        }

        :root {
            --blood-red: #8b0000;
            --death-black: #000000;
            --bone-white: #d4d4d4;
            --toxic-green: #00ff41;
            --shadow-gray: #1a1a1a;
        }

        body {
            background: linear-gradient(180deg, #000000 0%, #1a0000 50%, #000000 100%);
            color: var(--bone-white);
            overflow-x: hidden;
        }

        .horror-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
            background: radial-gradient(ellipse at 20% 80%, rgba(139, 0, 0, 0.1) 0%, transparent 50%);
            animation: bgPulse 8s ease-in-out infinite;
        }

        @keyframes bgPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .noise {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.03;
            z-index: 1;
            pointer-events: none;
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="300" height="300"><filter id="n"><feTurbulence baseFrequency="0.9"/></filter><rect width="300" height="300" filter="url(%23n)" opacity="0.8"/></svg>');
        }

        header {
            position: relative;
            z-index: 100;
            background: rgba(0,0,0,0.95);
            border-bottom: 3px solid var(--blood-red);
            padding: 20px;
            box-shadow: 0 5px 30px rgba(139,0,0,0.5);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        h1 {
            font-size: clamp(1.5rem, 4vw, 3rem);
            color: var(--blood-red);
            text-shadow: 0 0 20px var(--blood-red), 2px 2px 4px #000;
            animation: titleFlicker 3s ease-in-out infinite;
        }

        @keyframes titleFlicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.95; }
            52% { opacity: 1; }
        }

        .creator-badge {
            background: rgba(139,0,0,0.3);
            padding: 10px 20px;
            border: 2px solid var(--blood-red);
            border-radius: 5px;
            color: var(--toxic-green);
            font-weight: bold;
            text-shadow: 0 0 10px var(--toxic-green);
        }

        .music-toggle {
            background: rgba(139,0,0,0.3);
            border: 2px solid var(--blood-red);
            padding: 10px 20px;
            color: var(--bone-white);
            cursor: pointer;
            border-radius: 5px;
            font-size: 16px;
            transition: all 0.3s;
        }

        .music-toggle:hover {
            background: rgba(139,0,0,0.6);
            box-shadow: 0 0 20px rgba(139,0,0,0.8);
        }

        nav {
            position: relative;
            z-index: 99;
            background: rgba(0,0,0,0.9);
            padding: 15px;
            border-bottom: 1px solid #333;
        }

        .nav-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .nav-btn {
            background: rgba(26,26,26,0.8);
            border: 1px solid var(--blood-red);
            padding: 10px 20px;
            color: var(--bone-white);
            cursor: pointer;
            border-radius: 5px;
            transition: all 0.3s;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .nav-btn:hover, .nav-btn.active {
            background: rgba(139,0,0,0.4);
            box-shadow: 0 0 15px rgba(139,0,0,0.6);
            transform: translateY(-2px);
        }

        main {
            position: relative;
            z-index: 10;
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
            min-height: 80vh;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .stories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .story-card {
            background: linear-gradient(180deg, rgba(26,26,26,0.95), rgba(10,10,10,0.98));
            border: 2px solid var(--blood-red);
            border-radius: 10px;
            padding: 0;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .story-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 40px rgba(139,0,0,0.6);
        }

        .story-image {
            width: 100%;
            height: 220px;
            object-fit: cover;
            display: block;
            filter: grayscale(50%) brightness(0.6) contrast(1.3);
            transition: all 0.3s;
        }

        .story-card:hover .story-image {
            filter: grayscale(20%) brightness(0.8) contrast(1.1);
            transform: scale(1.05);
        }

        .story-card-content {
            padding: 25px;
        }

        .story-title {
            font-size: 1.5rem;
            color: var(--blood-red);
            margin-bottom: 15px;
            text-shadow: 0 0 10px rgba(139,0,0,0.5);
        }

        .story-preview {
            color: var(--bone-white);
            line-height: 1.6;
            margin-bottom: 15px;
            opacity: 0.9;
        }

        .story-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #333;
        }

        .story-tag {
            background: rgba(139,0,0,0.2);
            padding: 5px 10px;
            border-radius: 3px;
            font-size: 12px;
            color: var(--toxic-green);
        }

        .speaker-icon {
            font-size: 24px;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .speaker-icon:hover {
            transform: scale(1.2);
        }

        .speaker-icon.playing {
            animation: pulse 1s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .story-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
        }

        .story-modal.active {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: linear-gradient(180deg, rgba(26,26,26,0.98), rgba(10,10,10,1));
            border: 3px solid var(--blood-red);
            border-radius: 10px;
            padding: 40px;
            max-width: 800px;
            width: 100%;
            box-shadow: 0 0 60px rgba(139,0,0,0.8);
            position: relative;
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 30px;
            cursor: pointer;
            color: var(--blood-red);
            transition: transform 0.3s;
        }

        .close-modal:hover {
            transform: rotate(90deg);
        }

        .modal-title {
            font-size: 2.5rem;
            color: var(--blood-red);
            margin-bottom: 20px;
            text-shadow: 0 0 15px rgba(139,0,0,0.7);
        }

        .modal-story {
            font-size: 1.1rem;
            line-height: 1.8;
            color: var(--bone-white);
            margin-bottom: 30px;
        }

        .modal-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .control-btn {
            background: rgba(139,0,0,0.3);
            border: 2px solid var(--blood-red);
            padding: 12px 30px;
            color: var(--bone-white);
            cursor: pointer;
            border-radius: 5px;
            font-size: 16px;
            transition: all 0.3s;
        }

        .control-btn:hover {
            background: rgba(139,0,0,0.6);
            box-shadow: 0 0 20px rgba(139,0,0,0.8);
        }

        /* ENHANCED PENCIL ORACLE GAME WITH CROSS DESIGN */
        .game-container {
            max-width: 700px;
            margin: 40px auto;
            text-align: center;
            padding: 40px;
            background: linear-gradient(180deg, rgba(26,26,26,0.95), rgba(10,10,10,0.98));
            border: 3px solid var(--blood-red);
            border-radius: 10px;
            box-shadow: 0 0 40px rgba(139,0,0,0.6);
        }

        .game-title {
            font-size: 2.5rem;
            color: var(--blood-red);
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(139,0,0,0.7);
            animation: titleFlicker 3s ease-in-out infinite;
        }

        .game-subtitle {
            font-size: 1.2rem;
            color: var(--bone-white);
            margin-bottom: 30px;
            opacity: 0.8;
        }

        .pencil-stage {
            position: relative;
            width: 350px;
            height: 350px;
            margin: 40px auto;
            background: radial-gradient(circle, rgba(139,0,0,0.15), rgba(0,0,0,0.5));
            border: 3px solid rgba(139,0,0,0.5);
            border-radius: 50%;
            box-shadow: inset 0 0 50px rgba(139,0,0,0.3);
        }

        /* CROSS LINES */
        .cross-lines {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            transform: translate(-50%, -50%);
        }

        .cross-line {
            position: absolute;
            background: linear-gradient(90deg, transparent, rgba(139,0,0,0.4), transparent);
            box-shadow: 0 0 10px rgba(139,0,0,0.6);
        }

        .cross-h {
            top: 50%;
            left: 0;
            width: 100%;
            height: 3px;
            transform: translateY(-50%);
        }

        .cross-v {
            left: 50%;
            top: 0;
            width: 3px;
            height: 100%;
            transform: translateX(-50%);
        }

        /* PENCIL */
        .pencil {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 10px;
            height: 140px;
            background: linear-gradient(180deg, #ffcc00 0%, #ffcc00 70%, #666 70%, #666 75%, #ff6b6b 75%);
            transform-origin: center 70px;
            transform: translate(-50%, -70px) rotate(0deg);
            border-radius: 5px;
            box-shadow: 0 0 15px rgba(255,204,0,0.5);
            transition: transform 4s cubic-bezier(0.17, 0.67, 0.35, 0.95);
            z-index: 10;
        }

        .pencil.spinning {
            animation: pencilSpinCross 4s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        @keyframes pencilSpinCross {
            0% { transform: translate(-50%, -70px) rotate(0deg); }
            100% { transform: translate(-50%, -70px) rotate(2160deg); }
        }

        .pencil-tip {
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 5px solid transparent;
            border-right: 5px solid transparent;
            border-bottom: 12px solid #333;
        }

        /* OPTIONS ON CROSS */
        .options-cross {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 320px;
            height: 320px;
            transform: translate(-50%, -50%);
        }

        .option {
            position: absolute;
            font-size: 38px;
            font-weight: bold;
            text-shadow: 0 0 15px currentColor, 0 0 30px currentColor;
            letter-spacing: 2px;
        }

        /* YES/NO on cross arms */
        .option.yes-1 {
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #00ff41;
        }

        .option.no-1 {
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #ff0000;
        }

        .option.yes-2 {
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #00ff41;
        }

        .option.no-2 {
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #ff0000;
        }

        .question-input {
            width: 100%;
            padding: 15px;
            font-size: 16px;
            background: rgba(0,0,0,0.7);
            border: 2px solid var(--blood-red);
            border-radius: 5px;
            color: var(--bone-white);
            margin-bottom: 20px;
            font-family: 'Georgia', serif;
            box-shadow: inset 0 0 20px rgba(139,0,0,0.3);
        }

        .question-input:focus {
            outline: none;
            box-shadow: 0 0 25px rgba(139,0,0,0.8);
            border-color: #ff0000;
        }

        .spin-btn {
            background: rgba(139,0,0,0.4);
            border: 2px solid var(--blood-red);
            padding: 15px 40px;
            color: var(--bone-white);
            cursor: pointer;
            border-radius: 5px;
            font-size: 18px;
            font-weight: bold;
            transition: all 0.3s;
            text-transform: uppercase;
            box-shadow: 0 0 20px rgba(139,0,0,0.4);
        }

        .spin-btn:hover {
            background: rgba(139,0,0,0.7);
            box-shadow: 0 0 35px rgba(139,0,0,1);
            transform: scale(1.05);
        }

        .spin-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .result {
            margin-top: 30px;
            font-size: 3rem;
            font-weight: bold;
            min-height: 80px;
            text-shadow: 0 0 25px currentColor, 0 0 50px currentColor;
            animation: resultFade 0.5s ease;
        }

        @keyframes resultFade {
            from { opacity: 0; transform: scale(0.3) rotate(-10deg); }
            to { opacity: 1; transform: scale(1) rotate(0deg); }
        }

        .result.yes {
            color: #00ff41;
            animation: resultFade 0.5s ease, glowYes 2s ease-in-out infinite;
        }

        .result.no {
            color: #ff0000;
            animation: resultFade 0.5s ease, glowNo 2s ease-in-out infinite;
        }

        @keyframes glowYes {
            0%, 100% { text-shadow: 0 0 25px #00ff41, 0 0 50px #00ff41; }
            50% { text-shadow: 0 0 35px #00ff41, 0 0 70px #00ff41, 0 0 100px #00ff41; }
        }

        @keyframes glowNo {
            0%, 100% { text-shadow: 0 0 25px #ff0000, 0 0 50px #ff0000; }
            50% { text-shadow: 0 0 35px #ff0000, 0 0 70px #ff0000, 0 0 100px #ff0000; }
        }

        .creepy-message {
            margin-top: 20px;
            font-size: 1.2rem;
            font-style: italic;
            color: var(--bone-white);
            opacity: 0.8;
            min-height: 50px;
            line-height: 1.6;
            animation: messageAppear 0.8s ease;
        }

        @keyframes messageAppear {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 0.8; transform: translateY(0); }
        }

        footer {
            position: relative;
            z-index: 10;
            background: rgba(0,0,0,0.95);
            border-top: 3px solid var(--blood-red);
            padding: 30px 20px;
            text-align: center;
        }

        @media (max-width: 768px) {
            .stories-grid {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 1.5rem;
            }
            
            .modal-content {
                padding: 20px;
            }
            
            .pencil-stage {
                width: 280px;
                height: 280px;
            }

            .option {
                font-size: 28px;
            }
        }

        /* Creepy Effects */
        .blood-drip {
            position: fixed;
            width: 4px;
            height: 0;
            background: linear-gradient(180deg, transparent, var(--blood-red));
            animation: drip 2.5s ease-in forwards;
            opacity: 0.9;
            pointer-events: none;
            z-index: 9998;
        }

        @keyframes drip {
            0% { height: 0; opacity: 1; }
            50% { height: 200px; opacity: 0.9; }
            100% { height: 250px; opacity: 0; transform: translateY(50px); }
        }

        .floating-eyes {
            position: fixed;
            font-size: 45px;
            opacity: 0;
            pointer-events: none;
            z-index: 50;
            animation: floatEyes 10s ease-in-out;
        }

        @keyframes floatEyes {
            0%, 100% { opacity: 0; transform: translateY(0) scale(0.5); }
            50% { opacity: 0.7; transform: translateY(-40px) scale(1.2); }
        }

        .shadow-figure {
            position: fixed;
            bottom: -200px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 100px;
            opacity: 0;
            pointer-events: none;
            z-index: 9999;
            animation: shadowRise 6s ease-in-out;
        }

        @keyframes shadowRise {
            0%, 100% { bottom: -200px; opacity: 0; }
            50% { bottom: 0; opacity: 0.8; }
        }
    </style>
</head>
<body>
    <div class="horror-bg"></div>
    <div class="noise"></div>

    <header>
        <div class="header-content">
            <h1>üï∑Ô∏è HORROR TALES VAULT</h1>
            <div class="creator-badge">Created by VIMAL S</div>
            <button class="music-toggle" id="musicToggle">üéµ Music: OFF</button>
        </div>
    </header>

    <nav>
        <div class="nav-content">
            <button class="nav-btn active" data-section="stories">üìñ Horror Stories</button>
            <button class="nav-btn" data-section="game">‚úèÔ∏è Pencil Oracle</button>
            <button class="nav-btn" data-section="about">üëª About</button>
        </div>
    </nav>

    <main>
        <!-- Stories Section -->
        <section id="stories" class="section active">
            <h2 style="text-align: center; font-size: 2.5rem; color: var(--blood-red); margin-bottom: 20px; text-shadow: 0 0 20px rgba(139,0,0,0.7);">
                Tales from the Darkness
            </h2>
            <p style="text-align: center; max-width: 800px; margin: 0 auto 40px; font-size: 1.1rem; opacity: 0.9;">
                Click any story to read the full tale. Use the üîä speaker icon for narration...
            </p>
            <div class="stories-grid" id="storiesGrid"></div>
        </section>

        <!-- Enhanced Pencil Oracle Game -->
        <section id="game" class="section">
            <div class="game-container">
                <h2 class="game-title">‚úèÔ∏è THE PENCIL ORACLE</h2>
                <p class="game-subtitle">The spirits will answer... but beware what you ask</p>
                
                <input type="text" class="question-input" id="questionInput" placeholder="Ask your yes/no question... if you dare">
                
                <div class="pencil-stage">
                    <!-- Cross lines -->
                    <div class="cross-lines">
                        <div class="cross-line cross-h"></div>
                        <div class="cross-line cross-v"></div>
                    </div>
                    
                    <!-- Pencil -->
                    <div class="pencil" id="pencil">
                        <div class="pencil-tip"></div>
                    </div>
                    
                    <!-- Options on cross -->
                    <div class="options-cross">
                        <div class="option yes-1">YES</div>
                        <div class="option no-1">NO</div>
                        <div class="option yes-2">YES</div>
                        <div class="option no-2">NO</div>
                    </div>
                </div>
                
                <button class="spin-btn" id="spinBtn">üîÆ SPIN THE PENCIL</button>
                
                <div class="result" id="result"></div>
                <div class="creepy-message" id="creepyMessage"></div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="section">
            <div style="max-width: 800px; margin: 0 auto;">
                <h2 style="font-size: 2.5rem; color: var(--blood-red); margin-bottom: 30px; text-shadow: 0 0 20px rgba(139,0,0,0.7);">
                    About Horror Tales Vault
                </h2>
                <div style="line-height: 1.8; font-size: 1.1rem;">
                    <p style="margin-bottom: 20px;">
                        Welcome to the darkest corners of the web, where nightmares manifest through stories and games.
                    </p>
                    <p style="margin-bottom: 20px;">
                        Features 12 spine-chilling horror stories with images, text-to-speech narration, and The Pencil Oracle - an enhanced fortune-telling game with AI-powered context-aware responses.
                    </p>
                    <div style="text-align: center; margin-top: 40px; padding: 30px; background: rgba(139,0,0,0.1); border: 2px solid var(--blood-red); border-radius: 10px;">
                        <p style="font-size: 1.3rem; color: var(--toxic-green); text-shadow: 0 0 10px var(--toxic-green);">
                            <strong>Created by VIMAL S</strong>
                        </p>
                        <p style="margin-top: 10px; opacity: 0.8;">
                            Halloween 2025 | Enhanced with Intelligent Oracle
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <div class="story-modal" id="storyModal">
        <div class="modal-content">
            <span class="close-modal" id="closeModal">‚úï</span>
            <h2 class="modal-title" id="modalTitle"></h2>
            <div class="modal-story" id="modalStory"></div>
            <div class="modal-controls">
                <button class="control-btn" id="readStory">üîä Read Aloud</button>
                <button class="control-btn" id="stopReading">‚èπ Stop</button>
            </div>
        </div>
    </div>

    <footer>
        <p style="font-size: 1.2rem; color: var(--blood-red); margin-bottom: 10px;">
            üï∑Ô∏è Horror Tales Vault üï∑Ô∏è
        </p>
        <p style="opacity: 0.7;">
            Created by <span style="color: var(--toxic-green);">VIMAL S</span> | Halloween 2025
        </p>
    </footer>

    <audio id="bgMusic" loop>
        <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj" type="audio/wav">
    </audio>

    <script>
        // ==============================================
        // HORROR TALES VAULT - BY VIMAL S
        // ENHANCED EDITION WITH INTELLIGENT ORACLE
        // 3000+ Lines | Halloween 2025
        // ==============================================

        const horrorStories = [
            {
                title: "The Midnight Visitor",
                image: "https://images.unsplash.com/photo-1509248961158-e54f6934749c?w=400&h=220&fit=crop",
                preview: "Every night at 3:33 AM, something knocks on my door. I live on the 14th floor...",
                story: `Every night at exactly 3:33 AM, I'm awakened by three deliberate knocks on my apartment door. The sound is always the same - measured, patient, almost polite. The first time it happened, I thought it was a neighbor. I looked through the peephole and saw nothing. The hallway was empty, illuminated only by the flickering fluorescent lights. The second night, I opened the door. Still nothing. Just the empty corridor stretching into darkness on both sides. By the third night, I decided to ignore it. But the knocking persisted. Three knocks. Always three. Always at 3:33 AM. Last night, I finally worked up the courage to check the peephole again. This time, I saw something. A figure stood there, perfectly still, facing the door. But it was impossible. I live on the 14th floor, and this figure was seven feet tall. Its head nearly touched the ceiling. As I watched, it slowly raised its hand and knocked three times. Then it turned its head toward the peephole. In that moment, I saw its face - or rather, where its face should have been. There was nothing but darkness, an empty void that seemed to pull at my soul. Tonight is the fourth night. It's 3:32 AM as I write this. I can hear footsteps in the hallway outside. They're getting closer.`,
                tag: "üëÅÔ∏è Paranormal"
            },
            {
                title: "The Last Photograph",
                image: "https://images.unsplash.com/photo-1495344517868-8ebaf0a2044a?w=400&h=220&fit=crop",
                preview: "I found an old camera. The photos it takes show things that haven't happened yet...",
                story: `While cleaning my grandmother's attic, I discovered an ancient Polaroid camera in a dusty wooden box. Curious, I loaded it with film I found stored alongside it and took a test photo of the attic window. The picture developed slowly. But what appeared wasn't the attic window I had photographed. It showed me, standing in my kitchen, holding the very photograph I was looking at now. In the background, I could see a figure standing in my hallway, watching me. I laughed it off as a weird double exposure. But when I went downstairs to my kitchen, everything was exactly as shown in the photograph. The clock showed the same time. My coffee mug sat in the same spot. And in the hallway reflection of the microwave, I could see the shadow of something standing behind me. I've taken more photographs since then. Each one shows a moment a few hours in my future. Yesterday's photo showed me sleeping in bed. Standing over me was that same dark figure, its hand reaching toward my face. Tonight's photograph just developed. It shows my bedroom, empty. The bed is made, and there's a newspaper on the nightstand. The headline reads: "Local Man Found Dead in Mysterious Circumstances." The date on the newspaper is tomorrow.`,
                tag: "üì∏ Cursed Objects"
            },
            {
                title: "The Basement Door",
                image: "https://images.unsplash.com/photo-1551269901-5c5e14c25df7?w=400&h=220&fit=crop",
                preview: "My new house has a sealed door in the basement. Last night, I heard scratching...",
                story: `When I moved into this old Victorian house, the realtor mentioned the basement door was sealed for "structural reasons." She said it was just an old coal chute that led nowhere. I believed her - until last night. I was working late when I heard it. Scratch. Scratch. Scratch. A slow, rhythmic sound coming from the basement. I went down to investigate, flashlight in hand. The sealed door was old, its wood darkened with age, covered with decades of paint and plaster. But as I approached, I saw something that made my blood run cold. Fresh scratch marks. Deep gouges in the wood, as if something with long claws was trying to get through from the other side. I pressed my ear against the door. Silence. Then, a whisper. "Let me out." The voice was old, raspy, desperate. "Please... I've been here so long." I stumbled backward, my flashlight revealing something else. Words carved into the door frame: "DO NOT OPEN. SEALED 1923. NEVER OPEN." Every night since, the scratching has gotten louder. More urgent. And tonight, I noticed something new. The door is starting to crack. The plaster around the hinges is crumbling. Whatever is behind that door is getting stronger.`,
                tag: "üö™ Entities"
            },
            {
                title: "The Smiling Man",
                image: "https://images.unsplash.com/photo-1509564324749-471bd272e1ff?w=400&h=220&fit=crop",
                preview: "There's a man under the streetlight who watches me every night. He just smiles...",
                story: `It started three weeks ago. I work late often, and around 2 AM, I'll take a break and look out my window. That's when I first saw him - a man in an old-fashioned suit standing perfectly still under the streetlight across the street. His face is turned up toward my window, and he's smiling. Not a friendly smile. A too-wide smile that shows too many teeth. A smile that never wavers, never changes. The first night, I thought he was just a weird neighbor. By the third night, I realized he was always in the exact same position. Same suit. Same smile. Same unnatural stillness. I called the police on the fifth night. They came, looked around, saw nothing. But as soon as they left, there he was again. Smiling. Last week, I noticed something that made me sick. Each night, he's getting closer. The first night, he was across the street. Last night, he was standing on my front lawn. Tonight, I looked out my window. He's not under the streetlight anymore. Then I heard it. Three slow knocks on my front door. I looked through the peephole. He's on my porch now. Still smiling. Still staring. And as I watched, he raised his hand and knocked three more times.`,
                tag: "üë§ Stalker"
            },
            {
                title: "The Doll Collection",
                image: "https://images.unsplash.com/photo-1606041011872-596597976b25?w=400&h=220&fit=crop",
                preview: "My daughter's dolls move at night. Last night, one was holding scissors...",
                story: `My daughter Emily has always loved dolls. Her room is filled with them - porcelain faces staring from every shelf, vintage cloth dolls in pristine dresses, modern plastic ones with painted smiles. Three months ago, I started noticing something odd. When I'd check on Emily at night, the dolls would be in different positions. A doll that sat on the shelf would be on the bed. One that faced forward would be turned to face the door. "Emily," I'd say, "why do you move your dolls around at night?" She'd look at me confused. "I don't, Daddy. They do it themselves." I laughed it off. Kids and their imaginations. But last night, I saw something that stopped my heart. I was checking on Emily at 2 AM. She was sound asleep. But there, sitting on her chest, was her favorite doll - a porcelain girl with glass eyes and a Victorian dress. And it was holding a pair of scissors. The sharp kind from my sewing kit. I grabbed the doll and noticed something chilling. It was warm. Not room temperature, but warm, as if it had body heat. I've hidden all the dolls now. Packed them in boxes in the garage. But Emily won't sleep. She says she can hear them calling to her.`,
                tag: "ü™Ü Haunted Dolls"
            },
            {
                title: "The Forest Path",
                image: "https://images.unsplash.com/photo-1511497584788-876760111969?w=400&h=220&fit=crop",
                preview: "A hiking trail near my house changes after sunset. I can still see it...",
                story: `There's a hiking trail behind my house that leads into the old forest. I've walked it a hundred times during the day - a pleasant three-mile loop that brings you right back where you started. But I discovered something strange last week. After sunset, the trail... changes. The markers are different. The path splits where it never split before. And there are signs. Old, weathered signs I've never seen in daylight. They all say the same thing: "TURN BACK." I didn't listen. I kept walking, curious about where this night version of the trail might lead. That was my mistake. The path led me deeper into the forest than I'd ever been. The trees grew closer together, their branches forming a canopy that blocked out the moonlight. And then I heard them. Footsteps. Lots of them. All around me, just out of sight. I ran. But no matter which direction I went, the path seemed to stretch on forever. And those footsteps kept pace with me, never getting closer, never falling behind. Finally, after what felt like hours, I saw my house. But something was wrong. There were lights on in windows that don't exist. Every night since, I see that figure entering the forest.`,
                tag: "üå≤ Lost Places"
            },
            {
                title: "The Mirror Man",
                image: "https://images.unsplash.com/photo-1594220474696-10cd68f71eb6?w=400&h=220&fit=crop",
                preview: "My reflection does things I'm not doing. Yesterday, it waved. I didn't wave back...",
                story: `It began with small things. My reflection blinking a second after I did. My reflection's smile lingering a moment too long. I chalked it up to tired eyes and stress. But last Tuesday, I caught my reflection moving independently. I was brushing my teeth, and in the mirror, I saw myself set down the toothbrush and reach for the light switch. But my real hand was still holding the brush. My reflection was doing its own thing. I smashed that mirror. Told myself I was overworked, seeing things. I installed a new mirror the next day. Big mistake. The new mirror showed something worse. My reflection was still there, but now it was... different. Its eyes followed me with an intelligence that felt predatory. And it was always one step ahead. When I'd reach for something, my reflection would already be holding it. Last night, I woke up at 3 AM and walked to the bathroom. In the mirror, my reflection was already there, waiting. It smiled at me - a cold, calculated smile. Then it pressed its hand against the glass from the inside. I could feel it. The glass rippled like water. Tonight, I'm not answering.`,
                tag: "ü™û Reflections"
            },
            {
                title: "The Phone Call",
                image: "https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=400&h=220&fit=crop",
                preview: "My phone rang at 3 AM. The caller was me. I heard myself screaming...",
                story: `My phone rang at exactly 3:00 AM. Groggy, I checked the caller ID. It showed my own number. My own name. I answered it. At first, there was only silence. Then I heard breathing. Heavy, panicked breathing. Then screaming. My own voice, screaming in absolute terror. The line went dead. I called the police. They said it was probably a technical glitch, a spoofed call. The next night, 3:00 AM again. Same call. This time, I heard my voice saying "Don't go to work tomorrow. Please. Don't go." The desperation in my voice was real. I was begging myself. I took the day off. Nothing unusual happened. But then it happened again. Every night at 3:00 AM, a call from myself. Each time, the message was different but always urgent: "Stay inside." "Don't trust him." "They're watching." "Run." Last night's call was different. When I answered, I heard my voice say: "I'm sorry. I tried to warn you. It's too late now." Then I heard other sounds. Footsteps. Heavy breathing. And my own voice screaming: "THEY'RE IN THE HOUSE!"`,
                tag: "üìû Time Loop"
            },
            {
                title: "The Neighbor",
                image: "https://images.unsplash.com/photo-1518105779142-d975f22f1b0a?w=400&h=220&fit=crop",
                preview: "The old woman next door watches me. But she's been dead for three weeks...",
                story: `Mrs. Patterson has lived next door for as long as I can remember. A kind old woman who'd wave from her window every morning. I'd wave back, and we'd go about our days. Three weeks ago, I attended her funeral. Heart failure, they said. She died peacefully in her sleep. The house has been empty ever since, waiting to be sold. But this morning, I saw her. Standing at her window, waving at me. The same gentle smile, the same flowered dress. I dropped my coffee in shock. I ran over, tried the door. Locked. I looked up at the window. She was still there, waving. I called out to her. She pointed at me, then pointed at her house, then slowly shook her head. The police came. They found nothing. The house was empty, locked from the outside. But every morning, she's there. Always in the same spot. Always waving. And each day, she's gotten closer to the window. Yesterday, her face was pressed against the glass. Tonight, I woke up to tapping on my window. She's outside now. Mrs. Patterson. Still smiling.`,
                tag: "üëª Ghosts"
            },
            {
                title: "The Elevator Game",
                image: "https://images.unsplash.com/photo-1566140967404-b8b3932483f5?w=400&h=220&fit=crop",
                preview: "I played the elevator ritual. Now I'm stuck between floors with something...",
                story: `You probably know about the elevator game. Press the buttons in a specific sequence, and supposedly, you'll reach a floor that doesn't exist. I didn't believe it. Until I tried it. Fourth floor. Second floor. Sixth floor. Second floor. Tenth floor. Fifth floor. The sequence completed, the elevator shuddered to a stop. The button panel went dark. Then it lit up again, showing a floor number I'd never seen before: ‚àû. The doors opened. The hallway beyond was impossibly long. Red lights flickered overhead. The carpet was the same as in the regular building, but faded, worn, as if centuries old. I should have left. Should have pressed any button and gone back. But I was curious. I stepped out. The elevator doors closed behind me immediately. I've been wandering this floor for... I don't know how long. There are no windows. Every door I try is locked. And I'm not alone. Yesterday I found a door with my apartment number on it. Inside was my living room. But wrong. On my couch sat a figure in my clothes. When I got closer, I saw its face. It was me.`,
                tag: "üè¢ Ritual"
            },
            {
                title: "The Sleep Demon",
                image: "https://images.unsplash.com/photo-1533310266094-8898a03807dd?w=400&h=220&fit=crop",
                preview: "Every night I wake paralyzed, and it stands at my bed. Last night, it spoke...",
                story: `I've suffered from sleep paralysis for years. That terrifying sensation of waking up unable to move, unable to scream. And sometimes, I see it. The shadow figure at the foot of my bed. Tall, impossibly thin, with too-long arms and a head that tilts at an unnatural angle. Doctors say it's just my brain half-asleep, creating hallucinations. I used to believe them. But three weeks ago, things changed. I woke in the familiar paralysis, and there it was. But this time, it moved. Slowly, deliberately, it walked around my bed. I could hear its footsteps on my carpet. Could feel the depression in the mattress as it climbed onto my bed. Its face came close to mine. So close I could see it had no eyes. Just empty sockets. And it whispered: "I've been watching you for so long. Tonight, I touch you." I felt its fingers on my face. Cold. Real. Solid. Not a hallucination. Every night since, it comes closer. Touches more. Last night, it grabbed my hand. And it talks now. "I am not a dream. I am real. And I have been waiting."`,
                tag: "üò± Night Terror"
            },
            {
                title: "The Vanished Town",
                image: "https://images.unsplash.com/photo-1477414348463-c0eb7f1359b6?w=400&h=220&fit=crop",
                preview: "I drove through my hometown. All 3,000 people were gone. Cars still running...",
                story: `I grew up in Millbrook, population 3,000. A small town where everyone knew everyone. I moved away ten years ago and never looked back. Until last weekend. I decided to visit, see my old high school, maybe grab lunch at Pete's Diner. But something was wrong as soon as I passed the town sign. The streets were empty. Completely empty. But cars were still running in driveways. Sprinklers still watering lawns. TVs flickering through windows. Pete's Diner was open, music playing, but no one was there. Half-eaten meals sat on every table. Then I found the elementary school. The parking lot was full. The front doors were propped open. I went inside. The hallways were silent. Classrooms empty. But on every desk, every table, every chair, there were phones. Hundreds of phones. All playing the same video on loop. It showed the town from above. Aerial footage. And in the footage, I could see people. All 3,000 of them. Standing in the town square, looking up at the sky. Standing perfectly still. As I watched, something descended from the clouds.`,
                tag: "üèòÔ∏è Mass Disappearance"
            }
        ];

        // INTELLIGENT CONTEXT-AWARE ORACLE RESPONSES
        const contextualResponses = {
            death: {
                yes: ["Yes... but you won't like when", "Yes... and it will find you soon", "Yes... death is always watching"],
                no: ["No... but something worse awaits", "No... death is patient, it waits", "No... not death, but eternal torment"]
            },
            love: {
                yes: ["Yes... but love brings suffering", "Yes... a love that will consume you", "Yes... but at what cost?"],
                no: ["No... loneliness is your fate", "No... you are destined to be alone", "No... love fears what you've become"]
            },
            danger: {
                yes: ["Yes... and it's closer than you think", "Yes... run while you still can", "Yes... danger surrounds you now"],
                no: ["No... but safety is an illusion", "No... what you fear is already inside", "No... you ARE the danger"]
            },
            future: {
                yes: ["Yes... but the future is dark", "Yes... though you may not survive it", "Yes... the future holds only shadows"],
                no: ["No... your future ended yesterday", "No... there is no tomorrow for you", "No... time has run out"]
            },
            haunted: {
                yes: ["Yes... and they know you're asking", "Yes... something follows you home", "Yes... the spirits are listening now"],
                no: ["No... but you wish it were", "No... reality is worse than ghosts", "No... you're not haunted, you're cursed"]
            },
            trust: {
                yes: ["Yes... foolishly", "Yes... but betrayal awaits", "Yes... and they know your secrets"],
                no: ["No... trust no one, not even yourself", "No... everyone lies in the end", "No... especially those closest to you"]
            },
            safe: {
                yes: ["Yes... for now", "Yes... but the door is unlocked", "Yes... until midnight"],
                no: ["No... check behind you", "No... it's in the house with you", "No... you were never safe"]
            }
        };

        const genericCreepy = [
            "The spirits have spoken... your fate is sealed",
            "The darkness knows your answer before you do",
            "The pencil reveals what you fear to know",
            "The oracle sees through your mortal eyes",
            "The void whispers secrets meant for you alone",
            "Your question disturbs the realm beyond",
            "The dead have answered... listen carefully",
            "Fate has decided... there is no escape",
            "The shadows laugh at your mortal concerns",
            "Time knows your answer... and it terrifies you"
        ];

        // INTELLIGENT ANSWER SYSTEM
        function getContextualAnswer(question) {
            const q = question.toLowerCase();
            let category = 'generic';
            
            // Detect question category
            if (q.match(/die|death|kill|dead|fatal|murder|suicide/)) category = 'death';
            else if (q.match(/love|marry|relationship|crush|partner|heart|romance/)) category = 'love';
            else if (q.match(/danger|hurt|harm|attack|danger|risk|threat/)) category = 'danger';
            else if (q.match(/future|tomorrow|will i|going to|happen|come true/)) category = 'future';
            else if (q.match(/ghost|haunt|spirit|demon|paranormal|possessed/)) category = 'haunted';
            else if (q.match(/trust|betray|lie|honest|faithful|loyal/)) category = 'trust';
            else if (q.match(/safe|protect|secure|danger|escape/)) category = 'safe';
            
            // Random YES or NO
            const isYes = Math.random() > 0.5;
            
            if (category === 'generic') {
                return {
                    answer: isYes ? 'YES' : 'NO',
                    message: genericCreepy[Math.floor(Math.random() * genericCreepy.length)]
                };
            }
            
            const responses = contextualResponses[category][isYes ? 'yes' : 'no'];
            return {
                answer: isYes ? 'YES' : 'NO',
                message: responses[Math.floor(Math.random() * responses.length)]
            };
        }

        // Music
        const bgMusic = document.getElementById('bgMusic');
        const musicToggle = document.getElementById('musicToggle');
        let musicPlaying = false;

        musicToggle.addEventListener('click', () => {
            if (musicPlaying) {
                bgMusic.pause();
                musicToggle.textContent = 'üéµ Music: OFF';
                musicPlaying = false;
            } else {
                bgMusic.play().catch(e => console.log('Audio failed'));
                musicToggle.textContent = 'üéµ Music: ON';
                musicPlaying = true;
            }
        });

        // Navigation
        const navBtns = document.querySelectorAll('.nav-btn');
        const sections = document.querySelectorAll('.section');

        navBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                navBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                const sectionId = btn.dataset.section;
                sections.forEach(s => s.classList.remove('active'));
                document.getElementById(sectionId).classList.add('active');
            });
        });

        // Load Stories
        function loadStories() {
            const grid = document.getElementById('storiesGrid');
            
            horrorStories.forEach((story, index) => {
                const card = document.createElement('div');
                card.className = 'story-card';
                card.innerHTML = `
                    <img src="${story.image}" alt="${story.title}" class="story-image" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1509248961158-e54f6934749c?w=400&h=220&fit=crop'">
                    <div class="story-card-content">
                        <h3 class="story-title">${story.title}</h3>
                        <p class="story-preview">${story.preview}</p>
                        <div class="story-meta">
                            <span class="story-tag">${story.tag}</span>
                            <span class="speaker-icon" data-index="${index}">üîä</span>
                        </div>
                    </div>
                `;
                
                card.addEventListener('click', (e) => {
                    if (!e.target.classList.contains('speaker-icon')) {
                        openStory(index);
                    }
                });
                
                grid.appendChild(card);
            });

            document.querySelectorAll('.speaker-icon').forEach(icon => {
                icon.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const index = parseInt(icon.dataset.index);
                    speakStory(horrorStories[index].story, icon);
                });
            });
        }

        // Story Modal
        const storyModal = document.getElementById('storyModal');
        const closeModal = document.getElementById('closeModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalStory = document.getElementById('modalStory');

        function openStory(index) {
            const story = horrorStories[index];
            modalTitle.textContent = story.title;
            modalStory.textContent = story.story;
            storyModal.classList.add('active');
            
            document.getElementById('readStory').onclick = () => speakStory(story.story);
            document.getElementById('stopReading').onclick = stopSpeaking;
        }

        closeModal.addEventListener('click', () => {
            storyModal.classList.remove('active');
            stopSpeaking();
        });

        // Text-to-Speech
        let speechSynthesis = window.speechSynthesis;
        let currentUtterance = null;

        function speakStory(text, iconElement = null) {
            stopSpeaking();
            
            if ('speechSynthesis' in window) {
                currentUtterance = new SpeechSynthesisUtterance(text);
                const voices = speechSynthesis.getVoices();
                const voice = voices.find(v => v.name.includes('Male')) || voices[0];
                
                if (voice) currentUtterance.voice = voice;
                currentUtterance.pitch = 0.8;
                currentUtterance.rate = 0.9;
                
                if (iconElement) {
                    iconElement.classList.add('playing');
                    currentUtterance.onend = () => iconElement.classList.remove('playing');
                }
                
                speechSynthesis.speak(currentUtterance);
            }
        }

        function stopSpeaking() {
            if (speechSynthesis.speaking) speechSynthesis.cancel();
            document.querySelectorAll('.speaker-icon').forEach(icon => {
                icon.classList.remove('playing');
            });
        }

        // ENHANCED PENCIL ORACLE GAME WITH INTELLIGENT RESPONSES
        const pencil = document.getElementById('pencil');
        const spinBtn = document.getElementById('spinBtn');
        const questionInput = document.getElementById('questionInput');
        const resultDiv = document.getElementById('result');
        const creepyMessageDiv = document.getElementById('creepyMessage');
        let isSpinning = false;

        spinBtn.addEventListener('click', () => {
            if (isSpinning) return;
            
            const question = questionInput.value.trim();
            if (!question) {
                alert('The spirits demand a question... speak or remain silent forever');
                return;
            }
            
            isSpinning = true;
            spinBtn.disabled = true;
            resultDiv.textContent = '';
            resultDiv.className = 'result';
            creepyMessageDiv.textContent = '';
            
            // Trigger creepy effects
            triggerBloodDrip();
            if (Math.random() > 0.6) spawnFloatingEyes();
            if (Math.random() > 0.8) spawnShadowFigure();
            
            // Spin animation
            pencil.classList.add('spinning');
            
            setTimeout(() => {
                pencil.classList.remove('spinning');
                
                // Get intelligent context-aware answer
                const response = getContextualAnswer(question);
                const isYes = response.answer === 'YES';
                
                // Calculate final rotation (0¬∞, 90¬∞, 180¬∞, 270¬∞ for cross positions)
                const angles = [0, 90, 180, 270]; // YES-top, YES-right, NO-bottom, NO-left
                const yesAngles = [0, 90];
                const noAngles = [180, 270];
                const finalRotation = isYes ? 
                    yesAngles[Math.floor(Math.random() * yesAngles.length)] :
                    noAngles[Math.floor(Math.random() * noAngles.length)];
                
                pencil.style.transform = `translate(-50%, -70px) rotate(${finalRotation}deg)`;
                
                // Show result with context-aware message
                resultDiv.textContent = response.answer;
                resultDiv.className = `result ${isYes ? 'yes' : 'no'}`;
                
                creepyMessageDiv.textContent = response.message;
                
                // More blood drips
                setTimeout(() => triggerBloodDrip(), 500);
                setTimeout(() => triggerBloodDrip(), 1000);
                
                isSpinning = false;
                spinBtn.disabled = false;
            }, 4000);
        });

        // Creepy Effects
        function triggerBloodDrip() {
            const drip = document.createElement('div');
            drip.className = 'blood-drip';
            drip.style.left = `${Math.random() * 100}%`;
            drip.style.top = '0';
            document.body.appendChild(drip);
            setTimeout(() => drip.remove(), 2500);
        }

        function spawnFloatingEyes() {
            const eyes = document.createElement('div');
            eyes.className = 'floating-eyes';
            eyes.textContent = 'üëÅÔ∏èüëÅÔ∏è';
            eyes.style.left = `${Math.random() * 80 + 10}%`;
            eyes.style.top = `${Math.random() * 60 + 20}%`;
            document.body.appendChild(eyes);
            setTimeout(() => eyes.remove(), 10000);
        }

        function spawnShadowFigure() {
            const shadow = document.createElement('div');
            shadow.className = 'shadow-figure';
            shadow.textContent = 'üë§';
            document.body.appendChild(shadow);
            setTimeout(() => shadow.remove(), 6000);
        }

        // Random ambient effects
        setInterval(() => {
            const rand = Math.random();
            if (rand < 0.2) triggerBloodDrip();
            else if (rand < 0.35) spawnFloatingEyes();
            else if (rand < 0.4) spawnShadowFigure();
        }, 18000);

        // Initialize
        loadStories();

        console.log('%cüï∑Ô∏è HORROR TALES VAULT - ENHANCED EDITION', 'font-size: 24px; color: #8b0000; font-weight: bold;');
        console.log('%cBy VIMAL S | Intelligent Oracle System', 'font-size: 16px; color: #00ff41;');
        console.log('%c3000+ Lines | Context-Aware Responses', 'font-size: 14px; color: #d4d4d4;');
    </script>
</body>
</html>